---
phase: 18-getting-started
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - tutorials/01-project-setup.md
autonomous: true
requirements:
  - SETUP-01

must_haves:
  truths:
    - "User can follow the rsf init tutorial step-by-step and run the command successfully"
    - "User understands what each generated file (workflow.yaml, handlers/example_handler.py, pyproject.toml, .gitignore, tests/test_example.py) is for"
    - "User has a working RSF project directory ready for validation and code generation"
  artifacts:
    - path: "tutorials/01-project-setup.md"
      provides: "Step-by-step rsf init tutorial with commands, expected output, and file explanations"
      min_lines: 150
  key_links:
    - from: "tutorials/01-project-setup.md"
      to: "src/rsf/cli/init_cmd.py"
      via: "Documents the exact behavior of rsf init"
      pattern: "rsf init"
---

<objective>
Create a comprehensive step-by-step tutorial for `rsf init` that walks users through scaffolding a new RSF project.

Purpose: Users need a hands-on guide to create their first RSF project and understand the purpose of every generated file before moving on to workflow validation and code generation.
Output: `tutorials/01-project-setup.md` — a complete tutorial document.
</objective>

<execution_context>
@/home/esa/.claude/get-shit-done/workflows/execute-plan.md
@/home/esa/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@src/rsf/cli/init_cmd.py
@src/rsf/cli/templates/workflow.yaml
@src/rsf/cli/templates/handler_example.py
@src/rsf/cli/templates/pyproject.toml.j2
@src/rsf/cli/templates/gitignore
@src/rsf/cli/templates/test_example.py

<interfaces>
<!-- The rsf init command behavior (from src/rsf/cli/init_cmd.py):
  - Takes one argument: project_name
  - Creates directory: {project_name}/
  - Creates files:
    - workflow.yaml (static copy — minimal Pass→Succeed workflow)
    - handlers/__init__.py (empty)
    - handlers/example_handler.py (HelloWorld @state handler)
    - pyproject.toml (Jinja2 rendered with project_name)
    - .gitignore (Python/Terraform/IDE patterns)
    - tests/__init__.py (empty)
    - tests/test_example.py (two pytest tests for the example handler)
  - Prints success summary with created file list
  - Prints "Next steps" advice
  - Refuses to overwrite if workflow.yaml already exists
-->
</interfaces>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Write the rsf init tutorial</name>
  <files>tutorials/01-project-setup.md</files>
  <action>
Create the file `tutorials/01-project-setup.md` with the following structure and content:

**Title:** "Tutorial 1: Project Setup with `rsf init`"

**Sections to include (in order):**

1. **What You'll Learn** — Brief overview: scaffold a new RSF project, understand each generated file, be ready for validation.

2. **Prerequisites** — Python 3.12+, pip, RSF installed (`pip install rsf`). Show how to verify: `rsf --version`.

3. **Step 1: Create Your Project** — Show the exact command: `rsf init my-workflow`. Include the expected terminal output showing the created file list and "Next steps" message. The output should match what `init_cmd.py` actually prints (use Rich markup-free representation):
   ```
   Created project: my-workflow/

     + my-workflow/workflow.yaml
     + my-workflow/handlers/__init__.py
     + my-workflow/handlers/example_handler.py
     + my-workflow/pyproject.toml
     + my-workflow/.gitignore
     + my-workflow/tests/__init__.py
     + my-workflow/tests/test_example.py

   Next steps:
     cd my-workflow
     Edit workflow.yaml to define your state machine
     Edit handlers/example_handler.py to implement your logic
   ```

4. **Step 2: Explore the Project Structure** — Show the directory tree:
   ```
   my-workflow/
   ├── workflow.yaml
   ├── pyproject.toml
   ├── .gitignore
   ├── handlers/
   │   ├── __init__.py
   │   └── example_handler.py
   └── tests/
       ├── __init__.py
       └── test_example.py
   ```

5. **Understanding Each File** — One subsection per file, each with:
   - The full file content in a fenced code block (use the actual template content from `src/rsf/cli/templates/`)
   - A clear explanation of what the file does and why it exists
   - Files to cover:
     a. **workflow.yaml** — The workflow definition. Explain the RSF DSL structure: `rsf_version`, `Comment`, `StartAt`, `States`. Explain the starter workflow has a Pass state that forwards a result and a Succeed state that terminates. Mention this is the file users edit to define their state machine.
     b. **handlers/example_handler.py** — The handler code. Explain the `@state("HelloWorld")` decorator connects this function to the HelloWorld state in workflow.yaml. Explain the event/context signature. Explain this is where business logic lives.
     c. **pyproject.toml** — Python project metadata. Explain the RSF dependency, the hatchling build system, dev dependencies (pytest), and the handlers package declaration.
     d. **.gitignore** — Standard ignores. Briefly note it covers Python bytecode, testing caches, Terraform state, and IDE files.
     e. **tests/test_example.py** — Example tests. Show the test code and explain how handlers are tested as plain Python functions.

6. **Step 3: Run the Example Tests** — Show `cd my-workflow && pip install -e ".[dev]" && pytest`. Explain what happens (tests pass, confirming the handler works).

7. **What's Next** — Point to Tutorial 2 (rsf validate) for validating the workflow YAML before generating code. Mention that the workflow.yaml created here is already valid, but Tutorial 2 teaches how to catch errors.

**Style guidelines:**
- Use clear, direct language. No marketing fluff.
- Every command should be in a fenced code block with `bash` syntax highlighting.
- Every file listing should be in a fenced code block with appropriate syntax highlighting (yaml, python, toml).
- Use blockquotes (> ) for important notes or tips.
- Keep explanations concise — 2-4 sentences per file explanation.
- Do NOT use emojis.
  </action>
  <verify>
    <automated>test -f tutorials/01-project-setup.md && wc -l tutorials/01-project-setup.md | awk '{if ($1 >= 150) print "PASS: "$1" lines"; else print "FAIL: only "$1" lines"}'</automated>
  </verify>
  <done>
    - tutorials/01-project-setup.md exists with 150+ lines
    - Tutorial covers: prerequisites, rsf init command with expected output, directory structure, explanation of every generated file (workflow.yaml, handler, pyproject.toml, .gitignore, tests), running example tests, and a "what's next" pointer to Tutorial 2
    - All code blocks use actual template content from the RSF source
    - Commands are concrete and copy-pasteable
  </done>
</task>

</tasks>

<verification>
1. `tutorials/01-project-setup.md` exists and has 150+ lines
2. File contains all seven generated files documented (workflow.yaml, handlers/__init__.py, handlers/example_handler.py, pyproject.toml, .gitignore, tests/__init__.py, tests/test_example.py)
3. The workflow.yaml content shown matches `src/rsf/cli/templates/workflow.yaml` exactly
4. The handler content shown matches `src/rsf/cli/templates/handler_example.py` exactly
5. Commands are concrete (`rsf init my-workflow`, not `rsf init <name>`)
</verification>

<success_criteria>
A user reading this tutorial can: install RSF, run `rsf init my-workflow`, understand what every file does, run the example tests, and be ready for Tutorial 2 (validation).
</success_criteria>

<output>
After completion, create `.planning/phases/18-getting-started/18-01-SUMMARY.md`
</output>
